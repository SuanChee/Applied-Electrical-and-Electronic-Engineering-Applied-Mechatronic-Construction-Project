#include <SoftwareSerial.h>

//motor pins
const int ENA= 11;
const int IN1= 12;
const int IN2= 13;

const int ENB = 3;  
const int IN3 = 2;  
const int IN4 = A2;

SoftwareSerial BTSerial(0,1);

void moveforward(){
  analogWrite(ENA, 255);
  analogWrite(ENB, 255);
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, HIGH);
  digitalWrite(IN3, LOW);
  digitalWrite(IN4, HIGH);
}

void movebackward(){
  analogWrite(ENA, 255);
  analogWrite(ENB, 255);
  digitalWrite(IN1, HIGH);
  digitalWrite(IN2, LOW);
  digitalWrite(IN3, HIGH);
  digitalWrite(IN4, LOW);
}

void turnright(){
  analogWrite(ENA, 255);
  analogWrite(ENB, 150);
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, HIGH);
  digitalWrite(IN3, HIGH);
  digitalWrite(IN4, LOW);
}

void turnleft(){
  analogWrite(ENA, 150);
  analogWrite(ENB, 255);
  digitalWrite(IN1, HIGH);
  digitalWrite(IN2, LOW);
  digitalWrite(IN3, LOW);
  digitalWrite(IN4, HIGH);
}

void stoprobot(){
  analogWrite(ENA, 0);
  analogWrite(ENB, 0);
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, LOW);
  digitalWrite(IN3, LOW);
  digitalWrite(IN4, LOW);
}

void setup() {
  BTSerial.begin(9600);
    
  pinMode(ENA, OUTPUT);
  pinMode(ENB, OUTPUT);
  pinMode(IN1, OUTPUT);
  pinMode(IN2, OUTPUT);
  pinMode(IN3, OUTPUT);
  pinMode(IN4, OUTPUT);
}

void loop() {
  if (BTSerial.available()){
    char command= BTSerial.read();

  switch(command){
    case 'F':
      moveforward();
      break;
      
    case 'B':
      movebackward();
      break;

    case 'R':
      turnright();
      break;

    case 'L':
      turnleft();
      break;
      
    case 'S':
      stoprobot();
      break;
   }
  }
}
